<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TUM Live</title>
    {{template "headImports"}}
    <script>window.HELP_IMPROVE_VIDEOJS = false;</script>
    <link rel="stylesheet" href="/dist/video.js/dist/video-js.min.css">
</head>
<body class="bg-primary">
{{- /*gotype: TUM-Live/web.IndexData*/ -}}
{{template "header" .User}}

<div class="container pt-6">
    {{range $liveStream := .LiveStreams }}
        <video
                id="my-video"
                class="video-js"
                controls
                preload="auto"
                data-setup='{"fluid": true}'
        >
            <source src="{{$liveStream.PlaylistUrl}}" type="application/x-mpegURL"/>
            <p class="vjs-no-js">
                To view this video please enable JavaScript.
            </p>
        </video>
    {{end}}
</div>
<script src="/dist/video.js/dist/video.min.js"></script>
<script src="/dist/@videojs/http-streaming/dist/videojs-http-streaming.min.js"></script>
<script src="/dist/videojs-contrib-quality-levels/dist/videojs-contrib-quality-levels.min.js"></script>
<script src="/dist/videojs-hls-quality-selector/dist/videojs-hls-quality-selector.min.js"></script>
<script>
    let player = videojs('my-video');
    player.play();
    player.hlsQualitySelector();
</script>
</body>
</html>
